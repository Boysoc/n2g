import"./hoisted.lrI1EPAS.js";import"./hoisted.FddQO928.js";document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelectorAll(".tab-item"),h=document.querySelectorAll(".content-card"),a=document.querySelector(".card-content-container");h.forEach(t=>{t.classList.remove("active")}),a.classList.remove("has-active");function c(t){const n=t.getAttribute("data-target");if(t.classList.contains("active")){t.classList.remove("active");const o=document.getElementById(n);o&&o.classList.remove("active"),Array.from(i).some(r=>r.classList.contains("active"))||a.classList.remove("has-active")}else{i.forEach(s=>{s.classList.remove("active")}),h.forEach(s=>{s.classList.remove("active")}),t.classList.add("active");const o=document.getElementById(n);o&&o.classList.add("active"),a.classList.add("has-active")}}i.forEach(t=>{t.addEventListener("click",()=>{c(t)})}),document.querySelectorAll(".copy-btn").forEach(t=>{t.addEventListener("click",async()=>{const n=t.getAttribute("data-copy");if(n)try{await navigator.clipboard.writeText(n);const e=t.textContent;t.textContent="已复制",t.style.backgroundColor="rgba(207, 79, 40, 0.1)",t.style.borderColor="#cf4f28",t.style.color="#cf4f28",setTimeout(()=>{t.textContent=e,t.style.backgroundColor="",t.style.borderColor="",t.style.color=""},1e3)}catch(e){console.error("复制失败:",e),t.textContent="复制失败",setTimeout(()=>{t.textContent="复制"},2e3)}})});const l=document.getElementById("random-visit-button");l&&l.addEventListener("click",function(t){const n=document.querySelectorAll(".modern-card"),e=Array.from(n).filter(d=>!d.classList.contains("inactive"));if(e.length===0||n.length===0)return;this.disabled=!0,this.querySelector(".action-label").textContent="选择中...";const o=Math.floor(Math.random()*e.length);let s=0,r=0;const f=2;let u=30;const v=()=>{if(e.forEach(d=>{d.classList.remove("highlight","selected")}),e[s].classList.add("highlight"),s=(s+1)%e.length,s===0&&(r++,u+=40),r>=f){e[o].classList.remove("highlight"),e[o].classList.add("selected");const g=e[o].href;g&&window.open(g,"_blank","noopener,noreferrer"),setTimeout(()=>{this.disabled=!1,this.querySelector(".action-label").textContent="随机访问",e.forEach(L=>{L.classList.remove("highlight","selected")})},2e3);return}setTimeout(v,u)};v()})});document.addEventListener("astro:after-swap",()=>{setTimeout(()=>{const i=document.querySelectorAll(".tab-item"),h=document.querySelectorAll(".content-card"),a=document.querySelector(".card-content-container");h.forEach(t=>{t.classList.remove("active")}),a.classList.remove("has-active");function c(t){const n=t.getAttribute("data-target");if(t.classList.contains("active")){t.classList.remove("active");const o=document.getElementById(n);o&&o.classList.remove("active"),Array.from(i).some(r=>r.classList.contains("active"))||a.classList.remove("has-active")}else{i.forEach(s=>{s.classList.remove("active")}),h.forEach(s=>{s.classList.remove("active")}),t.classList.add("active");const o=document.getElementById(n);o&&o.classList.add("active"),a.classList.add("has-active")}}i.forEach(t=>{t.addEventListener("click",()=>{c(t)})}),document.querySelectorAll(".copy-btn").forEach(t=>{t.addEventListener("click",async()=>{const n=t.getAttribute("data-copy");if(n)try{await navigator.clipboard.writeText(n);const e=t.textContent;t.textContent="已复制",t.style.backgroundColor="rgba(207, 79, 40, 0.1)",t.style.borderColor="#cf4f28",t.style.color="#cf4f28",setTimeout(()=>{t.textContent=e,t.style.backgroundColor="",t.style.borderColor="",t.style.color=""},1e3)}catch(e){console.error("复制失败:",e),t.textContent="复制失败",setTimeout(()=>{t.textContent="复制"},2e3)}})});const l=document.getElementById("random-visit-button");l&&l.addEventListener("click",function(t){const n=document.querySelectorAll(".modern-card"),e=Array.from(n).filter(d=>!d.classList.contains("inactive"));if(e.length===0||n.length===0)return;this.disabled=!0,this.querySelector(".action-label").textContent="选择中...";const o=Math.floor(Math.random()*e.length);let s=0,r=0;const f=2;let u=30;const v=()=>{if(e.forEach(d=>{d.classList.remove("highlight","selected")}),e[s].classList.add("highlight"),s=(s+1)%e.length,s===0&&(r++,u+=40),r>=f){e[o].classList.remove("highlight"),e[o].classList.add("selected");const g=e[o].href;g&&window.open(g,"_blank","noopener,noreferrer"),setTimeout(()=>{this.disabled=!1,this.querySelector(".action-label").textContent="随机访问",e.forEach(L=>{L.classList.remove("highlight","selected")})},2e3);return}setTimeout(v,u)};v()})},100)});function y(){const i=document.getElementById("random-visit-button");i&&!i.hasAttribute("data-initialized")&&(i.setAttribute("data-initialized","true"),i.addEventListener("click",function(h){const a=document.querySelectorAll(".modern-card"),c=Array.from(a).filter(s=>!s.classList.contains("inactive"));if(c.length===0||a.length===0)return;this.disabled=!0,this.textContent="选择中...";const m=Math.floor(Math.random()*c.length);let l=0,t=0;const n=2;let e=30;const o=()=>{if(c.forEach(s=>{s.classList.remove("highlight","selected")}),c[l].classList.add("highlight"),l=(l+1)%c.length,l===0&&(t++,e+=40),t>=n){c[m].classList.remove("highlight"),c[m].classList.add("selected");const r=c[m].href;r&&window.open(r,"_blank","noopener,noreferrer"),setTimeout(()=>{this.disabled=!1,this.textContent="随机访问",c.forEach(f=>{f.classList.remove("highlight","selected")})},2e3);return}setTimeout(o,e)};o()}))}y();document.addEventListener("astro:after-swap",()=>{setTimeout(y,100)});
