import"./hoisted.lrI1EPAS.js";import"./hoisted.FddQO928.js";function u(){const i=document.querySelectorAll(".tab-item"),e=document.querySelectorAll(".content-card"),s=document.querySelector(".card-content-container");e.forEach(n=>{n.classList.remove("active")}),s.classList.remove("has-active");function t(n){const o=n.getAttribute("data-target");if(n.classList.contains("active")){n.classList.remove("active");const a=document.getElementById(o);a&&a.classList.remove("active"),Array.from(i).some(l=>l.classList.contains("active"))||s.classList.remove("has-active")}else{i.forEach(r=>{r.classList.remove("active")}),e.forEach(r=>{r.classList.remove("active")}),n.classList.add("active");const a=document.getElementById(o);a&&a.classList.add("active"),s.classList.add("has-active")}}i.forEach(n=>{n.addEventListener("click",()=>{t(n)})})}function f(){document.querySelectorAll(".copy-btn").forEach(e=>{e.addEventListener("click",async()=>{const s=e.getAttribute("data-copy");if(s)try{await navigator.clipboard.writeText(s);const t=e.textContent;e.textContent="已复制",e.style.backgroundColor="rgba(207, 79, 40, 0.1)",e.style.borderColor="#cf4f28",e.style.color="#cf4f28",setTimeout(()=>{e.textContent=t,e.style.backgroundColor="",e.style.borderColor="",e.style.color=""},1e3)}catch(t){console.error("复制失败:",t),e.textContent="复制失败",setTimeout(()=>{e.textContent="复制"},2e3)}})})}function v(){const i=document.getElementById("random-visit-button");i&&!i.hasAttribute("data-initialized")&&(i.setAttribute("data-initialized","true"),i.addEventListener("click",function(e){const s=document.querySelectorAll(".modern-card"),t=Array.from(s).filter(c=>!c.classList.contains("inactive"));if(t.length===0||s.length===0)return;this.disabled=!0,this.querySelector(".action-label").textContent="选择中...";const n=Math.floor(Math.random()*t.length);let o=0,d=0;const a=2;let r=30;const l=()=>{if(t.forEach(c=>{c.classList.remove("highlight","selected")}),t[o].classList.add("highlight"),o=(o+1)%t.length,o===0&&(d++,r+=40),d>=a){t[n].classList.remove("highlight"),t[n].classList.add("selected");const h=t[n].href;h&&window.open(h,"_blank","noopener,noreferrer"),setTimeout(()=>{this.disabled=!1,this.querySelector(".action-label").textContent="随机访问",t.forEach(m=>{m.classList.remove("highlight","selected")})},2e3);return}setTimeout(l,r)};l()}))}document.addEventListener("DOMContentLoaded",()=>{u(),f(),v()});document.addEventListener("astro:after-swap",()=>{setTimeout(()=>{u(),f(),v()},100)});function g(){const i=document.getElementById("random-visit-button");i&&!i.hasAttribute("data-initialized")&&(i.setAttribute("data-initialized","true"),i.addEventListener("click",function(e){const s=document.querySelectorAll(".modern-card"),t=Array.from(s).filter(c=>!c.classList.contains("inactive"));if(t.length===0||s.length===0)return;this.disabled=!0,this.textContent="选择中...";const n=Math.floor(Math.random()*t.length);let o=0,d=0;const a=2;let r=30;const l=()=>{if(t.forEach(c=>{c.classList.remove("highlight","selected")}),t[o].classList.add("highlight"),o=(o+1)%t.length,o===0&&(d++,r+=40),d>=a){t[n].classList.remove("highlight"),t[n].classList.add("selected");const h=t[n].href;h&&window.open(h,"_blank","noopener,noreferrer"),setTimeout(()=>{this.disabled=!1,this.textContent="随机访问",t.forEach(m=>{m.classList.remove("highlight","selected")})},2e3);return}setTimeout(l,r)};l()}))}g();document.addEventListener("astro:after-swap",()=>{setTimeout(g,100)});
